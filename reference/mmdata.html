<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Reformat input data for performance evaluation calculation — mmdata • precrec</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Reformat input data for performance evaluation calculation — mmdata"><meta property="og:description" content="The mmdata function takes predicted scores and labels
  and returns an mdat object. The evalmod function
  takes an mdat object as input data to calculate evaluation measures."><meta property="og:image" content="https://evalclass.github.io/precrec/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">precrec</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.12.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/introduction.html">Introduction</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Change log</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/evalclass/precrec/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Reformat input data for performance evaluation calculation</h1>
    <small class="dont-index">Source: <a href="https://github.com/evalclass/precrec/blob/main/R/mm1_create_mmdat.R" class="external-link"><code>R/mm1_create_mmdat.R</code></a></small>
    <div class="hidden name"><code>mmdata.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code>mmdata</code> function takes predicted scores and labels
  and returns an <code>mdat</code> object. The <code><a href="evalmod.html">evalmod</a></code> function
  takes an <code>mdat</code> object as input data to calculate evaluation measures.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">mmdata</span><span class="op">(</span>
  <span class="va">scores</span>,
  <span class="va">labels</span>,
  modnames <span class="op">=</span> <span class="cn">NULL</span>,
  dsids <span class="op">=</span> <span class="cn">NULL</span>,
  posclass <span class="op">=</span> <span class="cn">NULL</span>,
  na_worst <span class="op">=</span> <span class="cn">TRUE</span>,
  ties_method <span class="op">=</span> <span class="st">"equiv"</span>,
  expd_first <span class="op">=</span> <span class="cn">NULL</span>,
  mode <span class="op">=</span> <span class="st">"rocprc"</span>,
  nfold_df <span class="op">=</span> <span class="cn">NULL</span>,
  score_cols <span class="op">=</span> <span class="cn">NULL</span>,
  lab_col <span class="op">=</span> <span class="cn">NULL</span>,
  fold_col <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>scores</dt>
<dd><p>A numeric dataset of predicted scores. It can be a vector,
a matrix, an array, a data frame, or a list. The <code><a href="join_scores.html">join_scores</a></code>
function can be useful to make scores with multiple datasets.</p></dd>
<dt>labels</dt>
<dd><p>A numeric, character, logical, or factor dataset
of observed labels. It can be a vector, a matrix, an array,
a data frame, or a list. The <code><a href="join_labels.html">join_labels</a></code>
function can be useful to make labels with multiple datasets.</p></dd>
<dt>modnames</dt>
<dd><p>A character vector for the names of the models.
The <code>evalmod</code> function automatically generates default names
as "m1", "m2", "m3", and so on when it is <code>NULL</code>.</p></dd>
<dt>dsids</dt>
<dd><p>A numeric vector for test dataset IDs.
The <code>evalmod</code> function automatically generates the default ID
as <code>1</code> when it is <code>NULL</code>.</p></dd>
<dt>posclass</dt>
<dd><p>A scalar value to specify the label of positives
in <code>labels</code>. It must be the same data type as <code>labels</code>.
For example, <code>posclass = -1</code> changes the positive label
from <code>1</code> to <code>-1</code> when <code>labels</code> contains
<code>1</code> and <code>-1</code>. The positive label will be automatically
detected when <code>posclass</code> is <code>NULL</code>.</p></dd>
<dt>na_worst</dt>
<dd><p>A Boolean value for controlling the treatment of NAs
in <code>scores</code>.</p><dl><dt>TRUE</dt>
<dd><p>All NAs are treated as the worst scores</p></dd>

  <dt>FALSE</dt>
<dd><p>All NAs are treated as the best scores</p></dd>


</dl></dd>
<dt>ties_method</dt>
<dd><p>A string for controlling ties in <code>scores</code>.</p><dl><dt>"equiv"</dt>
<dd><p>Ties are equivalently ranked</p></dd>

  <dt>"first"</dt>
<dd><p>Ties are ranked in an increasing order as appeared</p></dd>

  <dt>"random"</dt>
<dd><p>Ties are ranked in random order</p></dd>


</dl></dd>
<dt>expd_first</dt>
<dd><p>A string to indicate which of the two variables
  - model names or test dataset IDs
  should be expanded first when they are automatically generated.</p>
<p></p><dl><dt>"modnames"</dt>
<dd><p>Model names are expanded first. For example,
           The <code>mmdata</code> function generates <code>modnames</code> as
           <code>c("m1", "m2")</code> and <code>dsids</code> as <code>c(1, 1)</code>
           when two vectors are passed as input,
           and <code>modnames</code> and <code>dsids</code> are unspecified.</p></dd>

    <dt>"dsids"</dt>
<dd><p>Test dataset IDs are expanded first. For example,
           The <code>mmdata</code> function generates <code>modnames</code> as
           <code>c("m1", "m1")</code> and <code>dsids</code> as <code>c(1, 2)</code>
           when two vectors are passed as input,
           and <code>modnames</code> and <code>dsids</code> are unspecified.</p></dd>

  
</dl></dd>
<dt>mode</dt>
<dd><p>A string that specifies the types of evaluation measures
that the <code>evalmod</code> function calculates.</p><dl><dt>"rocprc"</dt>
<dd><p>ROC and Precision-Recall curves</p></dd>

  <dt>"prcroc"</dt>
<dd><p>Same as above</p></dd>

  <dt>"basic"</dt>
<dd><p>Normalized ranks vs. accuracy, error rate, specificity,
                 sensitivity, precision, Matthews correlation coefficient,
                 and F-score.</p></dd>

  <dt>"aucroc"</dt>
<dd><p>Fast AUC(ROC) calculation with the U statistic</p></dd>


</dl></dd>
<dt>nfold_df</dt>
<dd><p>A data frame that contains at least one score column,
label and fold columns.</p></dd>
<dt>score_cols</dt>
<dd><p>A character/numeric vector that specifies score columns
of <code>nfold_df</code>.</p></dd>
<dt>lab_col</dt>
<dd><p>A number/string that specifies the label column
of <code>nfold_df</code>.</p></dd>
<dt>fold_col</dt>
<dd><p>A number/string that specifies the fold column
of <code>nfold_df</code>.</p></dd>
<dt>...</dt>
<dd><p>Not used by this method.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>The <code>mmdata</code> function returns an <code>mdat</code> object
  that contains formatted labels and score ranks. The object can
  be used as input data for the <code><a href="evalmod.html">evalmod</a></code> function.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="evalmod.html">evalmod</a></code> for calculation evaluation measures.
  <code><a href="join_scores.html">join_scores</a></code> and <code><a href="join_labels.html">join_labels</a></code> for formatting
  scores and labels with multiple datasets.
  <code><a href="format_nfold.html">format_nfold</a></code> for creating n-fold cross validation dataset
  from data frame.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="co">##################################################</span></span>
<span class="r-in"><span class="co">### Single model &amp; single test dataset</span></span>
<span class="r-in"><span class="co">###</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## Load a dataset with 10 positives and 10 negatives</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">P10N10</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## Generate mdat object</span></span>
<span class="r-in"><span class="va">ssmdat1</span> <span class="op">&lt;-</span> <span class="fu">mmdata</span><span class="op">(</span><span class="va">P10N10</span><span class="op">$</span><span class="va">scores</span>, <span class="va">P10N10</span><span class="op">$</span><span class="va">labels</span><span class="op">)</span></span>
<span class="r-in"><span class="va">ssmdat1</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     === Input data ===</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Model name Dataset ID # of negatives # of positives</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1         m1          1             10             10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span class="va">ssmdat2</span> <span class="op">&lt;-</span> <span class="fu">mmdata</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span>, <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>, <span class="fl">8</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">ssmdat2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     === Input data ===</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Model name Dataset ID # of negatives # of positives</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1         m1          1              6              2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">##################################################</span></span>
<span class="r-in"><span class="co">### Multiple models &amp; single test dataset</span></span>
<span class="r-in"><span class="co">###</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## Create sample datasets with 100 positives and 100 negatives</span></span>
<span class="r-in"><span class="va">samps</span> <span class="op">&lt;-</span> <span class="fu"><a href="create_sim_samples.html">create_sim_samples</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">100</span>, <span class="fl">100</span>, <span class="st">"all"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## Multiple models &amp; single test dataset</span></span>
<span class="r-in"><span class="va">msmdat1</span> <span class="op">&lt;-</span> <span class="fu">mmdata</span><span class="op">(</span><span class="va">samps</span><span class="op">[[</span><span class="st">"scores"</span><span class="op">]</span><span class="op">]</span>, <span class="va">samps</span><span class="op">[[</span><span class="st">"labels"</span><span class="op">]</span><span class="op">]</span>,</span>
<span class="r-in">                  modnames <span class="op">=</span> <span class="va">samps</span><span class="op">[[</span><span class="st">"modnames"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span class="r-in"><span class="va">msmdat1</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     === Input data ===</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Model name Dataset ID # of negatives # of positives</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1     random          1            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2    poor_er          1            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3    good_er          1            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4      excel          1            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5       perf          1            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## Use join_scores and join_labels</span></span>
<span class="r-in"><span class="va">s1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span></span>
<span class="r-in"><span class="va">s2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">6</span>, <span class="fl">7</span>, <span class="fl">8</span><span class="op">)</span></span>
<span class="r-in"><span class="va">scores</span> <span class="op">&lt;-</span> <span class="fu"><a href="join_scores.html">join_scores</a></span><span class="op">(</span><span class="va">s1</span>, <span class="va">s2</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">l1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"><span class="va">l2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"><span class="va">labels</span> <span class="op">&lt;-</span> <span class="fu"><a href="join_labels.html">join_labels</a></span><span class="op">(</span><span class="va">l1</span>, <span class="va">l2</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">msmdat2</span> <span class="op">&lt;-</span> <span class="fu">mmdata</span><span class="op">(</span><span class="va">scores</span>, <span class="va">labels</span>, modnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ms1"</span>, <span class="st">"ms2"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">msmdat2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     === Input data ===</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Model name Dataset ID # of negatives # of positives</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1        ms1          1              1              3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2        ms2          1              1              3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">##################################################</span></span>
<span class="r-in"><span class="co">### Single model &amp; multiple test datasets</span></span>
<span class="r-in"><span class="co">###</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## Create sample datasets with 100 positives and 100 negatives</span></span>
<span class="r-in"><span class="va">samps</span> <span class="op">&lt;-</span> <span class="fu"><a href="create_sim_samples.html">create_sim_samples</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">100</span>, <span class="fl">100</span>, <span class="st">"good_er"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## Single model &amp; multiple test datasets</span></span>
<span class="r-in"><span class="va">smmdat</span> <span class="op">&lt;-</span> <span class="fu">mmdata</span><span class="op">(</span><span class="va">samps</span><span class="op">[[</span><span class="st">"scores"</span><span class="op">]</span><span class="op">]</span>, <span class="va">samps</span><span class="op">[[</span><span class="st">"labels"</span><span class="op">]</span><span class="op">]</span>,</span>
<span class="r-in">                 modnames <span class="op">=</span> <span class="va">samps</span><span class="op">[[</span><span class="st">"modnames"</span><span class="op">]</span><span class="op">]</span>,</span>
<span class="r-in">                 dsids <span class="op">=</span> <span class="va">samps</span><span class="op">[[</span><span class="st">"dsids"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span class="r-in"><span class="va">smmdat</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     === Input data ===</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Model name Dataset ID # of negatives # of positives</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1    good_er          1            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2    good_er          2            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3    good_er          3            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4    good_er          4            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5    good_er          5            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    6    good_er          6            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    7    good_er          7            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    8    good_er          8            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    9    good_er          9            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   10    good_er         10            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">##################################################</span></span>
<span class="r-in"><span class="co">### Multiple models &amp; multiple test datasets</span></span>
<span class="r-in"><span class="co">###</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## Create sample datasets with 100 positives and 100 negatives</span></span>
<span class="r-in"><span class="va">samps</span> <span class="op">&lt;-</span> <span class="fu"><a href="create_sim_samples.html">create_sim_samples</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">100</span>, <span class="fl">100</span>, <span class="st">"all"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## Multiple models &amp; multiple test datasets</span></span>
<span class="r-in"><span class="va">mmmdat</span> <span class="op">&lt;-</span> <span class="fu">mmdata</span><span class="op">(</span><span class="va">samps</span><span class="op">[[</span><span class="st">"scores"</span><span class="op">]</span><span class="op">]</span>, <span class="va">samps</span><span class="op">[[</span><span class="st">"labels"</span><span class="op">]</span><span class="op">]</span>,</span>
<span class="r-in">                 modnames <span class="op">=</span> <span class="va">samps</span><span class="op">[[</span><span class="st">"modnames"</span><span class="op">]</span><span class="op">]</span>,</span>
<span class="r-in">                 dsids <span class="op">=</span> <span class="va">samps</span><span class="op">[[</span><span class="st">"dsids"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span class="r-in"><span class="va">mmmdat</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     === Input data ===</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Model name Dataset ID # of negatives # of positives</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1     random          1            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2    poor_er          1            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3    good_er          1            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4      excel          1            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5       perf          1            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    6     random          2            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    7    poor_er          2            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    8    good_er          2            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    9      excel          2            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   10       perf          2            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   11     random          3            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   12    poor_er          3            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   13    good_er          3            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   14      excel          3            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   15       perf          3            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   16     random          4            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   17    poor_er          4            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   18    good_er          4            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   19      excel          4            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   20       perf          4            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   21     random          5            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   22    poor_er          5            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   23    good_er          5            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   24      excel          5            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   25       perf          5            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   26     random          6            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   27    poor_er          6            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   28    good_er          6            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   29      excel          6            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   30       perf          6            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   31     random          7            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   32    poor_er          7            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   33    good_er          7            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   34      excel          7            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   35       perf          7            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   36     random          8            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   37    poor_er          8            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   38    good_er          8            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   39      excel          8            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   40       perf          8            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   41     random          9            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   42    poor_er          9            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   43    good_er          9            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   44      excel          9            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   45       perf          9            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   46     random         10            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   47    poor_er         10            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   48    good_er         10            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   49      excel         10            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   50       perf         10            100            100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">##################################################</span></span>
<span class="r-in"><span class="co">### N-fold cross validation datasets</span></span>
<span class="r-in"><span class="co">###</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## Load test data</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">M2N50F5</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">M2N50F5</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       score1     score2 label fold</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  2.0606025  1.0689227   pos    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  0.3066092  0.1745491   pos    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  1.5597733 -1.5666375   pos    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 -0.6044989  1.1572727   pos    3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 -0.2229031  0.6070042   pos    5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 -0.7679551 -1.7908147   pos    5</span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## Speficy nessesary columns to create mdat</span></span>
<span class="r-in"><span class="va">cvdat1</span> <span class="op">&lt;-</span> <span class="fu">mmdata</span><span class="op">(</span>nfold_df <span class="op">=</span> <span class="va">M2N50F5</span>, score_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span class="r-in">                 lab_col <span class="op">=</span> <span class="fl">3</span>, fold_col <span class="op">=</span> <span class="fl">4</span>,</span>
<span class="r-in">                 modnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"m1"</span>, <span class="st">"m2"</span><span class="op">)</span>, dsids <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span></span>
<span class="r-in"><span class="va">cvdat1</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     === Input data ===</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Model name Dataset ID # of negatives # of positives</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1         m1          1              5              5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2         m1          2              4              6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3         m1          3              5              5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4         m1          4              6              4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5         m1          5              5              5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    6         m2          1              5              5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    7         m2          2              4              6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    8         m2          3              5              5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    9         m2          4              6              4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   10         m2          5              5              5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## Use column names</span></span>
<span class="r-in"><span class="va">cvdat2</span> <span class="op">&lt;-</span> <span class="fu">mmdata</span><span class="op">(</span>nfold_df <span class="op">=</span> <span class="va">M2N50F5</span>, score_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"score1"</span>, <span class="st">"score2"</span><span class="op">)</span>,</span>
<span class="r-in">                 lab_col <span class="op">=</span> <span class="st">"label"</span>, fold_col <span class="op">=</span> <span class="st">"fold"</span>,</span>
<span class="r-in">                 modnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"m1"</span>, <span class="st">"m2"</span><span class="op">)</span>, dsids <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span></span>
<span class="r-in"><span class="va">cvdat2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     === Input data ===</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Model name Dataset ID # of negatives # of positives</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1         m1          1              5              5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2         m1          2              4              6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3         m1          3              5              5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4         m1          4              6              4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5         m1          5              5              5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    6         m2          1              5              5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    7         m2          2              4              6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    8         m2          3              5              5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    9         m2          4              6              4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   10         m2          5              5              5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Takaya Saito, Marc Rehmsmeier.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

